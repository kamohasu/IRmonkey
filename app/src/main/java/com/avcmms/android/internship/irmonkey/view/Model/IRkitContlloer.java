package com.avcmms.android.internship.irmonkey.view.Model;

import android.util.SparseArray;
import android.os.Bundle;
import android.util.SparseArray;
import android.widget.Toast;

import com.avcmms.android.internship.irmonkey.R;
import com.getirkit.irkit.IRKit;
import com.getirkit.irkit.net.IRDeviceAPIService;
import com.getirkit.irkit.net.IRHTTPClient;
import retrofit.Callback;
import retrofit.RetrofitError;
import retrofit.client.Response;
import com.avcmms.android.internship.irmonkey.R;

/**
 * Created by ishida.yuta on 2016/01/30.
 */
public class IRkitContlloer {
    SparseArray<Integer> mSparseArray = new SparseArray<Integer>();

    protected void init() {
        SparseArray<Integer[]> mSparseArray = new SparseArray<Integer[]>();

        // cnl 1
        mSparseArray.put(R.id.bottom,new Integer[]{6881,3341,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,2537,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,873,873,2537,873,873,873,873,873,2537,873,873,873,873,873,2537,873,2537,873});
        // cnl 2
        mSparseArray.put(2,new Integer[]{6881,3341,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,2537,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,2537,873,2537,873,65535,0,65535,0,18662,6881,3341,904,815,815,2537,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,2537,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,2537,873,2537,873});
        // cnl 3
        mSparseArray.put(3,new Integer[]{6881,3341,904,815,904,2537,904,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,2537,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,815,2537,815,2537,815,815,815,815,815,2537,815,815,815,815,815,815,815,815,815,815,815,2537,815,815,815,815,815,815,815,815,815,2537,815,815,815,2537,815,2537,815,815,815,2537,815,815,815,815,815,2537,815,2537,815});
        // cnl 4
        mSparseArray.put(4,new Integer[]{6881,3341,935,761,935,2451,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,2451,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,2451,935,2451,935,761,935,761,935,2451,935,761,935,761,935,761,935,761,935,2451,935,2451,935,761,935,761,935,761,935,761,935,2451,935,761,935,761,935,2451,935,761,935,2451,935,761,935,761,935,2451,935,2451,935,65535,0,65535,0,18031,6881,3341,935,761,935,2451,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,2451,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,761,935,2451,935,2451,935,761,935,761,935,2451,935,761,935,761,935,761,935,761,935,2451,935,2451,935,761,935,761,935,761,935,761,935,2451,935,761,935,761,935,2451,935,761,935,2451,935,761,935,761,935,2451,935,2451,935});
        // cnl 5
        mSparseArray.put(5,new Integer[]{6881,3341,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,2537,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,873,873,2537,873,873,873,2537,873,873,873,2537,873,2537,873,873,873,873,873,2537,873,2537,873,65535,0,65535,0,18031,6881,3341,904,815,815,2537,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,815,904,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,2537,873,873,873,873,873,2537,873,873,873,873,873,873,873,873,873,873,873,873,873,2537,873,873,873,873,873,873,873,2537,873,873,873,2537,873,873,873,2537,873,2537,873,873,873,873,873,2537,873,2537,873});
        // cnl 6
        mSparseArray.put(6,new Integer[]{});
        // cnl 7
        mSparseArray.put(7,new Integer[]{});
        // cnl 8
        mSparseArray.put(8,new Integer[]{});
        // cnl 9
        mSparseArray.put(9,new Integer[]{});
        // cnl 10
        mSparseArray.put(10,new Integer[]{});
        // cnl 11
        mSparseArray.put(11,new Integer[]{});
        // cnl 12
        mSparseArray.put(12,new Integer[]{});
        // cnl VoluemUP
        mSparseArray.put(13,new Integer[]{});
        // cnl VoluemDown
        mSparseArray.put(14,new Integer[]{});


    }

    private enum commandList {
        CANNEL1,
        CANNEL2,
        CANNEL3,
        CANNEL4,
        CANNEL5,
        CANNEL6,
        CANNEL7,
        CANNEL8,
        CANNEL9,
        CANNEL10,
        CANNEL11,
        CANNEL12,
        VOLUEM_UP,
        VOLUEM_DOWN,
    }

    private int[] ircmd = {0};

    public void setCommand(commandList cmd)
    {
        switch(cmd)
        {
            case CANNEL1 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };
                break;
            case CANNEL2 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };
            case CANNEL3 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };

            case CANNEL4 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };

            case CANNEL5 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };

            case CANNEL6 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };

            case CANNEL7 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };

            case CANNEL8 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };

            case CANNEL9 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };

            case CANNEL10 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };

            case CANNEL11 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };

            case CANNEL12 :
                ircmd = new int[]{
                        6881, 3341, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 873, 873, 873, 873, 2537, 873, 2537, 873,
                };
        }
        sendCommand(ircmd);
    }


    private void sendCommand(int[] data) {

        IRHTTPClient httpClient = IRKit.sharedInstance().getHTTPClient();

        httpClient.setDeviceAPIEndpoint("http://192.168.111.9");
        IRDeviceAPIService deviceAPI = httpClient.getThrottledDeviceAPIService();

        IRDeviceAPIService.PostMessagesRequest req = new IRDeviceAPIService.PostMessagesRequest();
        req.format = "raw"; //ŒÅ’è
        req.freq = 38.0f; //ŒÅ’è
        req.data = data;

        deviceAPI.postMessages(req, new Callback<IRDeviceAPIService.PostMessagesResponse>() {
            @Override
            public void success(IRDeviceAPIService.PostMessagesResponse postMessagesResponse, Response response) {
                //Toast.makeText(getApplicationContext(), "success", Toast.LENGTH_SHORT).show();
            }

            @Override
            public void failure(RetrofitError error) {
                //Toast.makeText(getApplicationContext(), "failure", Toast.LENGTH_SHORT).show();
            }
        });
    }
}
